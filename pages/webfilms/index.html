<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>IMAXX TV - Media Center</title>
    <link rel="shortcut icon" href="/Assests/images/imaxx-icon.png" type="image/x-icon">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&family=Open+Sans&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="style.css">
    <style>
        #mbcbtns {
            z-index: 999;
            position: fixed;
            bottom: 20px;
            left: 20px;
            display: block !important;
        }

        .btn-back {
            background-color: rgba(0, 0, 0, 0.7);
            border: 2px solid #D1B261;
            color: #D1B261;
            border-radius: 50%;
            width: 50px;
            height: 50px;
            display: flex;
            justify-content: center;
            align-items: center;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 0 10px rgba(209, 178, 97, 0.5);
        }

        .btn-back:hover {
            background-color: #D1B261;
            color: black;
            transform: scale(1.1);
        }
    </style>
</head>

<body>

    <div id="page">
        <h1>PROJECTS</h1>

        <!-- Search and Filter Section -->
        <div class="filter-search">
            <input type="text" id="search-bar" placeholder="Search for a show..." oninput="filterShows()">
        </div>

        <!-- Tabs for Sections -->
        <div class="tabs">
            <button class="tab-button" onclick="showSection('trendins')">Trending</button>
            <button class="tab-button" onclick="showSection('coming-soon')">Coming Soon</button>
            <button class="tab-button" onclick="showSection('series')">Series</button>
            <button class="tab-button" onclick="showSection('showss')">Shows</button>
            <button class="tab-button" onclick="showSection('films')">Films</button>
        </div>

        <!-- Shows Section -->
        <div id="shows">
            <<<<<<< HEAD <section id="trendins">

                </section>
                <section class="show-section" id="films">
                    <h2>Films</h2>
                    <div class="show-cards trending">


                        <div class="card vertical"
                            onclick="showDetail('AKHRI KHAT', 'Trending now. Don\'t miss out!', '/Assests/filmss/6 2.png', 'https://www.youtube.com/embed/YOUR_VIDEO_ID_1')">
                            <img src="/Assests/filmss/6 2.png" alt="Show 1">
                            <h3>AKHRI KHAT</h3>
                            <p>Trending now. Don't miss out!</p>
                        </div>

                        <div class="card horizontal"
                            onclick="showDetail('70\'S SHAADI', 'Watch now for exclusive content.', '/Assests/filmss/4.png', 'https://www.youtube.com/embed/YOUR_VIDEO_ID_2')">
                            <img src="/Assests/filmss/4.png" alt="Show 2">
                            <h3>70'S SHAADI</h3>
                            <p>Watch now for exclusive content.</p>
                        </div>
                        <div class="card horizontal"
                            onclick="showDetail('MADAM', 'Watch now for exclusive content.', '/Assests/filmss/1.png')">
                            <img src="/Assests/filmss/1.png" alt="Show 2">
                            <h3>MADAM</h3>
                            <p>Watch now for exclusive content.</p>
                        </div>
                        <div class="card horizontal"
                            onclick="showDetail('TWISTED SAPNAY', 'Watch now for exclusive content.', '/Assests/filmss/1 3.png')">
                            <img src="/Assests/filmss/1 3.png" alt="Show 2">
                            <h3>TWISTED SAPNAY</h3>
                            <p>Watch now for exclusive content.</p>
                        </div>
                        <div class="card horizontal"
                            onclick="showDetail('SATURDAY NIGHT', 'Watch now for exclusive content.', '/Assests/filmss/1 2.png')">
                            <img src="/Assests/filmss/1 2.png" alt="Show 2">
                            <h3>SATURDAY NIGHT</h3>
                            <p>Watch now for exclusive content.</p>
                        </div>
                        <div class="card horizontal"
                            onclick="showDetail('CHESS MASTER', 'Watch now for exclusive content.', '/Assests/filmss/3 2.png')">
                            <img src="/Assests/filmss/3 2.png" alt="Show 2">
                            <h3>CHESS MASTER</h3>
                            <p>Watch now for exclusive content.</p>
                        </div>
                        <div class="card horizontal"
                            onclick="showDetail('BESHARAM', 'Watch now for exclusive content.', '/Assests/filmss/besharam.png')">
                            <img src="/Assests/filmss/besharam.png" alt="Show 2">
                            <h3>BESHARAM</h3>
                            <p>Watch now for exclusive content.</p>
                        </div>
                        <div class="card horizontal"
                            onclick="showDetail('RADIO DHAMAKA', 'Watch now for exclusive content.', '/Assests/filmss/2 3.png')">
                            <img src="/Assests/filmss/2 3.png" alt="Show 2">
                            <h3>RADIO DHAMAKA</h3>
                            <p>Watch now for exclusive content.</p>
                        </div>
                        <div class="card horizontal"
                            onclick="showDetail('JOOTHA MOOTA GUNJA', 'Watch now for exclusive content.', '/Assests/filmss/Jootha Mootha Gunja.png')">
                            <img src="/Assests/filmss/Jootha Mootha Gunja.png" alt="Show 2">
                            <h3>JOOTHA MOOTA GUNJA</h3>
                            <p>Watch now for exclusive content.</p>
                        </div>
                        <div class="card horizontal"
                            onclick="showDetail('LEAKED VIDEO', 'Watch now for exclusive content.', '/Assests/series/Leaked Video.png')">
                            <img src="/Assests/series/Leaked Video.png" alt="Show 2">
                            <h3>LEAKED VIDEO</h3>
                            <p>Watch now for exclusive content.</p>
                        </div>
                        <div class="card horizontal"
                            onclick="showDetail('Raja Ki Rani', 'Watch now for exclusive content.', '/Assests/filmss/1 4.png')">
                            <img src="/Assests/filmss/1 4.png" alt="Show 2">
                            <h3>Raja Ki Rani</h3>
                            <p>Watch now for exclusive content.</p>
                        </div>
                        <div class="card horizontal"
                            onclick="showDetail('Mama\'s Boy', 'Watch now for exclusive content.', '/Assests/filmss/2 6.png')">
                            <img src="/Assests/filmss/2 6.png" alt="Show 2">
                            <h3>Mama's Boy</h3>
                            <p>Watch now for exclusive content.</p>
                        </div>

                        =======
                        <section id="trendins" class="show-section">
                            <h2>Trending</h2>
                            <div class="show-cards trending" id="trending-container">
                                <!-- Content will be loaded from Firebase -->
                                <div class="loader"></div>
                                >>>>>>> backup-main
                            </div>
                        </section>

                        <section id="coming-soon" class="show-section">
                            <h2>Coming Soon</h2>
                            <div class="show-cards" id="coming-soon-container">
                                <!-- Content will be loaded from Firebase -->
                                <div class="loader"></div>
                            </div>
                        </section>

                        <section id="series" class="show-section">
                            <h2>Series</h2>
                            <div class="show-cards" id="series-container">
                                <!-- Content will be loaded from Firebase -->
                                <div class="loader"></div>
                            </div>
                        </section>

                        <section id="showss" class="show-section">
                            <h2>Shows</h2>
                            <div class="show-cards" id="shows-container">
                                <!-- Content will be loaded from Firebase -->
                                <div class="loader"></div>
                            </div>
                        </section>

                        <section id="films" class="show-section">
                            <h2>Films</h2>
                            <div class="show-cards" id="films-container">
                                <!-- Content will be loaded from Firebase -->
                                <div class="loader"></div>
                            </div>
                        </section>
                    </div>
        </div>

        <<<<<<< HEAD <!-- Detail Section (Initially hidden) -->
            <div id="details" style="display: none;">
                <h1>Show Details</h1>
                <div class="details-container">
                    <div class="detail-card">
                        <div class="video-container">
                            <iframe id="show-video"
                                allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
                                referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>
                        </div>
                        <h2 id="show-title">Show Title</h2>
                        <p id="show-description"></p>
                        <button class="btn-watch" onclick="goBack()">Back</button>
                        =======
                        <!-- Popup for media details -->
                        <div id="media-popup" class="popup"
                            style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background-color: rgba(0, 0, 0, 0.8); z-index: 1000; justify-content: center; align-items: center;">
                            <div class="popup-content"
                                style="background-color: #111; width: 90%; max-width: 800px; border-radius: 10px; padding: 30px; position: relative; box-shadow: 0 0 20px rgba(209, 178, 97, 0.5); border: 2px solid #D1B261;">
                                <div style="display: flex; flex-direction: column; align-items: center; gap: 20px;">
                                    <img id="popup-img" src="" alt="Media Image"
                                        style="width: 100%; height: 400px; object-fit: contain; border-radius: 8px; margin-bottom: 20px;">
                                    <div class="popup-info" style="text-align: center; width: 100%;">
                                        <h2 id="popup-title"
                                            style="color: #D1B261; margin-bottom: 10px; font-size: 24px;"></h2>
                                        <p id="popup-description"
                                            style="color: #fff; margin-bottom: 20px; font-size: 16px;"></p>
                                        <button id="watch-now-btn" class="btn-gold"
                                            style="background-color: #D1B261; color: #000; padding: 12px 30px; border: none; border-radius: 5px; cursor: pointer; font-weight: bold; font-size: 16px; transition: all 0.3s ease;">
                                            Watch Now
                                        </button>
                                        >>>>>>> backup-main
                                    </div>
                                </div>
                            </div>
                            <!-- Back button for popup positioned in the same place as main back button -->
                            <div class="popup-back-btn" onclick="closePopup()"
                                style="position: fixed !important; bottom: 20px !important; left: 20px !important; z-index: 1010 !important; display: flex !important; justify-content: center !important; align-items: center !important; background-color: rgba(0, 0, 0, 0.7) !important; border: 2px solid #D1B261 !important; color: #D1B261 !important; border-radius: 50% !important; width: 50px !important; height: 50px !important; cursor: pointer !important; visibility: visible !important;">
                                <i class="fas fa-arrow-left"
                                    style="display: inline-block !important; color: #D1B261 !important; font-size: 20px !important; visibility: visible !important;"></i>
                            </div>
                        </div>

                        <div id="mbcbtns"
                            style="z-index: 9999 !important; display: block !important; position: fixed !important; bottom: 20px !important; left: 20px !important; visibility: visible !important;">
                            <button class="btn-back"
                                style="display: flex !important; justify-content: center !important; align-items: center !important; background-color: rgba(0, 0, 0, 0.7) !important; border: 2px solid #D1B261 !important; color: #D1B261 !important; border-radius: 50% !important; width: 50px !important; height: 50px !important; visibility: visible !important;"
                                onclick="goBacks()">
                                <i class="fas fa-arrow-left"
                                    style="display: inline-block !important; color: #D1B261 !important; font-size: 20px !important; visibility: visible !important;"></i>
                            </button>
                        </div>

                        <!-- Firebase SDK -->
                        <script type="module">
                            import { initializeApp } from "https://www.gstatic.com/firebasejs/9.22.2/firebase-app.js";
                            import { getFirestore, collection, getDocs, query, where, orderBy } from "https://www.gstatic.com/firebasejs/9.22.2/firebase-firestore.js";

                            // Your web app's Firebase configuration
                            const firebaseConfig = {
                                apiKey: "AIzaSyAVsSryjA8ZE78eJL5IXvQEn_QN3wwZnn4",
                                authDomain: "imaxxtv-1a82f.firebaseapp.com",
                                projectId: "imaxxtv-1a82f",
                                storageBucket: "imaxxtv-1a82f.firebasestorage.app",
                                messagingSenderId: "983969718785",
                                appId: "1:983969718785:web:163e36e998c7db2a665600",
                                measurementId: "G-EQERDT2CXR"
                            };

                            // Initialize Firebase
                            const app = initializeApp(firebaseConfig);
                            const db = getFirestore(app);

                            console.log("Firebase initialized successfully");

                            // Make db available globally
                            window.db = db;

                            // Function to load all content from Firebase
                            async function loadAllContent() {
                                try {
                                    await loadContent('trending', 'trending-container');
                                    await loadContent('coming-soon', 'coming-soon-container');
                                    await loadContent('series', 'series-container');
                                    await loadContent('shows', 'shows-container');
                                    await loadContent('films', 'films-container');
                                } catch (error) {
                                    console.error("Error loading content:", error);
                                    displayErrorMessage();
                                }
                            }

                            // Function to load content for a specific category
                            async function loadContent(category, containerId) {
                                try {
                                    const contentContainer = document.getElementById(containerId);

                                    // Clear loading indicator
                                    contentContainer.innerHTML = '';

                                    // Query Firebase for data in this category
                                    const q = query(
                                        collection(db, "media"),
                                        where("category", "==", category),
                                        orderBy("order", "asc")
                                    );

                                    const querySnapshot = await getDocs(q);

                                    if (querySnapshot.empty) {
                                        // Fallback data for each category if no data is found
                                        const fallbackData = createFallbackData(category);
                                        fallbackData.forEach(data => {
                                            const card = createCard(data, `fallback-${category}-${data.order}`);
                                            contentContainer.appendChild(card);
                                        });
                                        return;
                                    }

                                    // Loop through the documents and create cards
                                    querySnapshot.forEach((doc) => {
                                        const data = doc.data();
                                        const card = createCard(data, doc.id);
                                        contentContainer.appendChild(card);
                                    });
                                } catch (error) {
                                    console.error(`Error loading ${category}:`, error);
                                    // Use fallback data on error
                                    const contentContainer = document.getElementById(containerId);
                                    const fallbackData = createFallbackData(category);
                                    contentContainer.innerHTML = '';
                                    fallbackData.forEach(data => {
                                        const card = createCard(data, `fallback-${category}-${data.order}`);
                                        contentContainer.appendChild(card);
                                    });
                                }
                            }

                            // Fallback data for each category
                            function createFallbackData(category) {
                                const fallbackData = {
                                    'trending': [
                                        {
                                            title: "AKHRI KHAT",
                                            description: "Trending now. Don't miss out!",
                                            imageUrl: "/Assests/filmss/6 2.png",
                                            category: "trending",
                                            orientation: "vertical",
                                            order: 1
                                        },
                                        {
                                            title: "DAIRAA",
                                            description: "Watch now for exclusive content.",
                                            imageUrl: "/Assests/series/3.png",
                                            category: "trending",
                                            orientation: "horizontal",
                                            order: 2
                                        },
                                        {
                                            title: "PRANKSTER",
                                            description: "Trending now. Don't miss out!",
                                            imageUrl: "/Assests/series/8.png",
                                            category: "trending",
                                            orientation: "vertical",
                                            order: 3
                                        }
                                    ],
                                    'coming-soon': [
                                        {
                                            title: "THE VISIT",
                                            description: "Watch now for exclusive content.",
                                            imageUrl: "/Assests/filmss/5.png",
                                            category: "coming-soon",
                                            orientation: "horizontal",
                                            order: 1
                                        },
                                        {
                                            title: "YAKSHNI",
                                            description: "Watch now for exclusive content.",
                                            imageUrl: "/Assests/series/9.png",
                                            category: "coming-soon",
                                            orientation: "horizontal",
                                            order: 2
                                        }
                                    ],
                                    'series': [
                                        {
                                            title: "DAIRAA",
                                            description: "Watch now for exclusive content.",
                                            imageUrl: "/Assests/series/3.png",
                                            category: "series",
                                            orientation: "horizontal",
                                            order: 1
                                        },
                                        {
                                            title: "TERI MERI LOVE STORY",
                                            description: "Watch now for exclusive content.",
                                            imageUrl: "/Assests/series/7.png",
                                            category: "series",
                                            orientation: "horizontal",
                                            order: 2
                                        }
                                    ],
                                    'shows': [
                                        {
                                            title: "MAHABHARAT",
                                            description: "Watch now for exclusive content.",
                                            imageUrl: "/Assests/series/2 5.png",
                                            category: "shows",
                                            orientation: "horizontal",
                                            order: 1
                                        },
                                        {
                                            title: "CRIME MAXX",
                                            description: "Watch now for exclusive content.",
                                            imageUrl: "/Assests/series/crime.png",
                                            category: "shows",
                                            orientation: "horizontal",
                                            order: 2
                                        }
                                    ],
                                    'films': [
                                        {
                                            title: "AKHRI KHAT",
                                            description: "Trending now. Don't miss out!",
                                            imageUrl: "/Assests/filmss/6 2.png",
                                            category: "films",
                                            orientation: "vertical",
                                            order: 1
                                        },
                                        {
                                            title: "70'S SHAADI",
                                            description: "Watch now for exclusive content.",
                                            imageUrl: "/Assests/filmss/4.png",
                                            category: "films",
                                            orientation: "horizontal",
                                            order: 2
                                        }
                                    ]
                                };

                                return fallbackData[category] || [];
                            }

                            // Function to create a card element
                            function createCard(data, id) {
                                const card = document.createElement('div');
                                card.className = `card ${data.orientation || 'vertical'}`;
                                card.setAttribute('data-id', id);

                                card.onclick = function () {
                                    openDetailPage(data.title, data.description, data.imageUrl);
                                };

                                card.innerHTML = `
                <img src="${data.imageUrl}" alt="${data.title}">
                <h3>${data.title}</h3>
                <p>${data.description}</p>
            `;

                                return card;
                            }

                            // Function to display error message
                            function displayErrorMessage() {
                                const containers = [
                                    'trending-container', 'coming-soon-container',
                                    'series-container', 'shows-container', 'films-container'
                                ];

                                containers.forEach(containerId => {
                                    const container = document.getElementById(containerId);
                                    // Use fallback data instead of error message
                                    const category = containerId.replace('-container', '');
                                    const fallbackData = createFallbackData(category === 'trending-container' ? 'trending' :
                                        category === 'coming-soon-container' ? 'coming-soon' :
                                            category === 'series-container' ? 'series' :
                                                category === 'shows-container' ? 'shows' : 'films');
                                    container.innerHTML = '';
                                    fallbackData.forEach(data => {
                                        const card = createCard(data, `fallback-${category}-${data.order}`);
                                        container.appendChild(card);
                                    });
                                });
                            }

                            // Make these functions available globally
                            window.loadContent = loadContent;
                            window.loadAllContent = loadAllContent;

                            // Load content when the page loads
                            document.addEventListener('DOMContentLoaded', () => {
                                loadAllContent();
                            });
                        </script>

                        <script src="script.js"></script>
                        <script>
<<<<<<< HEAD
                            function showDetail(title, description, image, videoUrl = '') {
                                document.getElementById('details').style.display = 'block';
                                document.getElementById('shows').style.display = 'none';
                                document.getElementById('show-title').textContent = title;
                                document.getElementById('show-description').textContent = description;

                                const videoFrame = document.getElementById('show-video');
                                // Use the provided video URL or default to the example video
                                videoFrame.src = videoUrl || 'https://www.youtube.com/embed/y5UYNTzNTt4?si=3PVqcG8Lfni3aor2';
                            }

                            function goBack() {
                                const videoFrame = document.getElementById('show-video');
                                videoFrame.src = ''; // Stop video playback
                                document.getElementById('details').style.display = 'none';
                                document.getElementById('shows').style.display = 'block';
                            }
=======
        function goBacks() {
            window.history.back();
        }

        // Ensure button is always visible, no matter what
        document.addEventListener('DOMContentLoaded', function () {
            const button = document.getElementById("mbcbtns");
            if (button) {
                button.style.display = "block";
                button.style.visibility = "visible";

                // Make sure the icon is visible too
                const icon = button.querySelector('.fa-arrow-left');
                if (icon) {
                    icon.style.display = "inline-block";
                    icon.style.visibility = "visible";
                }
            }

            // Add back buttons to all footer links if they don't have them
            const addBackButtons = function () {
                // Find all pages that need back buttons
                const pages = document.querySelectorAll('.footer-links a, .nav-links a');
                pages.forEach(link => {
                    // Store original click handler
                    const originalHref = link.href;
                    link.addEventListener('click', function (e) {
                        const targetPage = originalHref;
                        // Only intercept if it's an internal link
                        if (targetPage && targetPage.includes(window.location.hostname)) {
                            // Check if the page already has our code to handle back buttons
                            fetch(targetPage)
                                .then(response => response.text())
                                .then(html => {
                                    // If the page doesn't have back button code, we'll need to add it
                                    if (!html.includes('mbcbtns')) {
                                        // We'll let the navigation happen but flag that we need to add a back button
                                        sessionStorage.setItem('needsBackButton', 'true');
                                    }
                                })
                                .catch(error => {
                                    console.error('Error checking page:', error);
                                });
                        }
                    });
                });
            };

            // Call this function after the page fully loads
            setTimeout(addBackButtons, 1000);

            // Check if this page needs a back button added (from session storage flag)
            if (sessionStorage.getItem('needsBackButton') === 'true') {
                // Clear the flag
                sessionStorage.removeItem('needsBackButton');

                // If there's no back button already, add one
                if (!document.getElementById('mbcbtns')) {
                    const backButton = document.createElement('div');
                    backButton.id = 'mbcbtns';
                    backButton.setAttribute('style', 'z-index: 9999 !important; display: block !important; position: fixed !important; bottom: 20px !important; left: 20px !important; visibility: visible !important;');
                    backButton.innerHTML = `
                        <button class="btn-back"
                            style="display: flex !important; justify-content: center !important; align-items: center !important; background-color: rgba(0, 0, 0, 0.7) !important; border: 2px solid #D1B261 !important; color: #D1B261 !important; border-radius: 50% !important; width: 50px !important; height: 50px !important; visibility: visible !important;"
                            onclick="window.history.back()">
                            <i class="fas fa-arrow-left"
                                style="display: inline-block !important; color: #D1B261 !important; font-size: 20px !important; visibility: visible !important;"></i>
                        </button>
                    `;
                    document.body.appendChild(backButton);
                }
            }
        });
>>>>>>> backup-main
                        </script>
</body>

</html>